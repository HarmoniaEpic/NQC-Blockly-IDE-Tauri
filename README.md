# 注意：工事中 / Caution: Under Construction

![LOGO](RCX.png)

まだ動かないかもしれません。May not work yet.

# NQC Blockly IDE for LEGO RCX

Tauri 2.0ベースのデスクトップアプリケーションで、Blocklyを使用してLEGO RCXをビジュアルプログラミングできます。

## 前提条件
### ビルド時
- C/C++コンパイラ
- Node.js (v16以上)
- Rust (v1.8以上)
### 使用時
- NQCコマンドラインツール（システムにインストール済みであること）

## ダウンロード
```bash
git clone https://github.com/HarmoniaEpic/NQC-Blockly-IDE-Tauri.git
cd NQC-Blockly-IDE-Tauri
```

## セットアップ

依存関係をインストール:
```bash
npm install
```

アプリアイコンの設定:
```bash
npm run tauri icon RCX.png
```

## 開発

開発モードでアプリを起動:
```bash
npm run tauri dev
```

## ビルド

プロダクションビルド:
```bash
npm run tauri build
```

## 使い方

1. アプリを起動
2. Blocklyワークスペースでプログラムを作成
3. NQCパスを設定（デフォルトは`nqc`）
4. シリアルポートを選択
5. ターゲットタイプを選択（RCX、RCX2など）
6. 「コンパイル」でコードをチェック
7. 「RCXに転送」でプログラムをRCXに送信

## 機能

- **ビジュアルプログラミング**: Blocklyを使用した直感的なプログラミング
- **リアルタイムコード生成**: NQCコードをリアルタイムで表示
- **ハードウェア制御**: RCXの直接制御（実行、停止、クリア）
- **プロジェクト管理**: プロジェクトの保存と読み込み
- **NQCエクスポート**: 生成されたNQCコードのエクスポート
- **シリアルポート自動検出**: 利用可能なシリアルポートの自動検出

## サポートされているブロック

- **動き**: モーター制御（ON/OFF、前進/後退、パワー設定）
- **音**: サウンド再生、トーン生成
- **イベント**: タスク管理（メインタスク、カスタムタスク）
- **制御**: ループ、条件分岐、待機
- **調べる**: センサー値の読み取り、タイマー
- **演算**: 算術演算、論理演算、比較
- **変数**: グローバル変数の宣言と操作

## トラブルシューティング

- **NQCが見つからない**: NQCパスが正しく設定されているか確認
- **シリアルポートエラー**: RCXが接続され、電源が入っているか確認
- **コンパイルエラー**: 生成されたNQCコードにエラーがないか確認

## ライセンス

MIT
